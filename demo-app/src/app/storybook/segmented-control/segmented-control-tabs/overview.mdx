import { Canvas } from '@storybook/blocks';

import * as SegmentedControlStories from '../segmented-control.component.stories';

The `DsSegmentedControl` is a simplified segmented control component that works like tabs, similar to the profile component tabs. It provides a retro 2000s aesthetic and is used for toggling between multiple options within a group.

<Canvas of={SegmentedControlStories.Default} />

---

## Usage

Import `DsSegmentedControl` in your component and use it with an array of tab objects.

```ts
import { DsSegmentedControl, type DsSegmentedTab } from '@ui/segmented-control'; // ðŸ‘ˆ add to file imports

@Component({
  imports: [DsSegmentedControl], // ðŸ‘ˆ add to component imports
  template: `...`,
})
export class AppComponent {
  tabs: DsSegmentedTab[] = [
    { id: 'tab1', label: 'ALL USERS', count: 25 },
    { id: 'tab2', label: 'ADMINS', count: 3 },
    { id: 'tab3', label: 'PREMIUM', count: 8 },
  ];

  activeTab = signal('tab1');

  onTabChange(tabId: string) {
    this.activeTab.set(tabId);
  }
}
```

```html
<ds-segmented-control
  [tabs]="tabs"
  [activeTab]="activeTab()"
  (tabChange)="onTabChange($event)"
></ds-segmented-control>
```

---

## Features

### Tab Interface

The component uses a simple `DsSegmentedTab` interface:

```typescript
interface DsSegmentedTab {
  id: string; // Unique identifier for the tab
  label: string; // Display text (automatically uppercased)
  count?: number; // Optional count to display in parentheses
}
```

### Retro Styling

The component features a retro 2000s aesthetic with:

- Inset/outset borders for that classic Windows look
- Light gray background with darker borders
- Active state with white background and blue text
- Count badges with appropriate styling

---

## Accessibility

- Uses semantic `button` elements for each tab
- Proper focus management with keyboard navigation
- Clear visual indication of active state
- Screen reader friendly with proper labeling

---

## Test Coverage

- Loads and renders segmented control with tabs
- Handles tab selection via click events
- Supports `fullWidth` input for responsive layouts
- Emits `tabChange` events when tabs are clicked
- Displays counts when provided in tab data
- Maintains proper active state styling
